<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>FinFlow • v39.11</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icons/icon-512.png" type="image/png" />

  <link rel="stylesheet" href="styles/app.css" />
</head>
<body>
  <div class="app">
    <h1>FinFlow</h1>
    <div class="subtitle">Inkomen, uitgaven, sparen — automatisch door alle maanden en jaren.</div>

    <div class="tabs">
      <div class="tab active" data-tab="categories">Categorieën</div>
      <div class="tab" data-tab="month">Maand</div>
      <div class="tab" data-tab="year">Jaar</div>
    </div>

    <!-- CATEGORIEËN TAB -->
    <div id="tab-categories">
      <button id="newCat" class="add-btn">+ Nieuwe categorie toevoegen</button>
      <div id="catList"></div>
    </div>

    <!-- MAAND TAB -->
    <div id="tab-month" class="hidden">
<div class="month-header">
  <div class="nav-pill" id="monthNavPill">
    <div class="nav-pill-inner">
      <span class="nav-pill-arrow">&lt;</span>
      <span class="nav-pill-label month-title" id="monthTitle"></span>
      <span class="nav-pill-arrow">&gt;</span>
    </div>
  </div>
</div>

      <div id="monthCategories"></div>

      <div class="card spaar-row">
        <div class="card-header">
          <div class="card-left">
            <div class="tag-savings">SPAARACTIES IN DEZE MAAND</div>
          </div>
          <button id="addSavingAction" class="small-btn">+ Spaaractie</button>
        </div>

        <!-- Inline spaaractieformulier -->
        <div id="savingForm" class="saving-form hidden">
          <div class="saving-input-row">
            <input id="savingAmountInput" class="inline-input" placeholder="Bedrag" />
            <div class="saving-toggle-group">
              <button id="savingToggleDeposit" class="toggle-saving">Storting</button>
              <button id="savingToggleWithdrawal" class="toggle-saving">Opname</button>
            </div>
          </div>
          <div class="btn-row saving-actions">
            <button id="saveSavingBtn" class="primary-btn">Opslaan</button>
            <button id="cancelSavingBtn" class="secondary-btn">Annuleren</button>
          </div>
        </div>

        <div id="savingsList"></div>
      </div>

      <div class="card">
        <div class="section-title">Samenvatting maand</div>
        <div class="summary-row">
          <div class="summary-label">Totaal inkomen</div>
          <div class="summary-value good" id="sumIncome"></div>
        </div>
        <div class="summary-row">
          <div class="summary-label">Totaal uitgaven</div>
          <div class="summary-value bad" id="sumExpense"></div>
        </div>
        <div class="summary-row">
          <div class="summary-label">Beschikbaar</div>
          <div class="summary-value neutral" id="sumAvailable"></div>
        </div>
      </div>
    </div>

    <!-- JAAR TAB -->
    <div id="tab-year" class="hidden">
<div class="year-nav">
  <div class="nav-pill" id="yearNavPill">
    <div class="nav-pill-inner">
      <span class="nav-pill-arrow">&lt;</span>
      <span class="nav-pill-label year-title" id="yearTitle"></span>
      <span class="nav-pill-arrow">&gt;</span>
    </div>
  </div>
</div>

      <div class="settings-card">

<div class="startyear-row">
  <span class="startyear-label">Beginsaldo bankrekening</span>
  <input id="startingBankInput" type="text" inputmode="decimal" pattern="[0-9.,]*" placeholder="0" class="year-input" />
</div>
<div class="startyear-row">
  <span class="startyear-label">Beginsaldo spaarrekening</span>
  <input id="startingSavingsInput" type="text" inputmode="decimal" pattern="[0-9.,]*" placeholder="0" class="year-input" />
</div>

        <div class="year-saving-row">
          <input id="monthlySavingAmount"
            placeholder="Maandelijks sparen (leeg = 0)"
            class="year-saving-input">
          <div class="year-saving-toggle-group">
            <button id="yearToggleDeposit"
              class="year-saving-toggle">
              Storting
            </button>
            <button id="yearToggleWithdrawal"
              class="year-saving-toggle">
              Opname
            </button>
          </div>
        </div>

        <button id="saveSettingsBtn" class="save-settings-btn">Instellingen opslaan</button>
        <div style="display:flex; gap:8px; margin-top:8px; flex-wrap:wrap;">
          <button id="exportDataBtn" class="small-btn" style="flex:1; text-align:center;">
            Data exporteren
          </button>
          <button id="importDataBtn" class="small-btn" style="flex:1; text-align:center;">
            Data importeren
          </button>
          <input type="file" id="importFileInput" accept="application/json" style="display:none;">
        </div>
      </div>

      <div class="card">
        <table class="year-grid" id="yearTable">
          <thead>
            <tr>
              <th>Maand</th>
              <th>Inkomen</th>
              <th>Uitgaven</th>
              <th>Storting spaar</th>
              <th>Eindsaldo bank</th>
              <th>Eindsaldo spaar</th>
            </tr>
          </thead>
          <tbody id="yearTableBody"></tbody>
        </table>
      <div class="info-text">
        "Storting spaar" toont per maand hoeveel er naar of van je spaarrekening gaat. Positief = storting, negatief = opname.
      </div>
    </div>
  </div>
</div>

  <!-- CATEGORIE-SHEET -->
  <div id="sheetOverlay" class="overlay">
    <div id="sheetForm" class="sheet">
      <h2 id="sheetTitle">Categorie</h2>

      <input id="nameInput" placeholder="Naam" />

      <div class="toggle-row toggle-row-top">
        <button id="catToggleExpense">Uitgave</button>
        <button id="catToggleIncome">Inkomen</button>
      </div>

      <input type="hidden" id="typeInput" value="expense" />

      <div class="startyear-row">
        <span class="startyear-label">Startjaar</span>
        <input id="catStartYear" type="text" inputmode="decimal" pattern="[0-9.,]*" /> <span id="catStartYearHint" class="cat-hint"></span>
      </div>
      

      <div class="cat-year-block">
        <div class="cat-year-header">
          <span>Jaar</span>
          <span>Standaard maandbedrag</span>
        </div>
        <div id="catYearAmountsRows"></div>
        <button id="addCatYearBtn" class="secondary-btn full-width">Nieuw jaar toevoegen</button>
        <div id="catYearHelp" class="cat-hint"></div>
      </div>

      <button id="sheetSave" class="sheet-btn">Opslaan</button>
      <button id="sheetClose" class="close-btn">Sluiten</button>
    </div>
  </div>


  

  <script type="module" src="scripts/main.js"></script>
</body>
</html>
